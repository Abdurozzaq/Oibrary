(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{101:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r={data:function(){return{serverError:null,errorAlert:!1,snack:!1,snackColor:null,snackText:null,search:null,daftarPengembalian:null,daftarPengembalianFiltered:null,overlay:!1,headers:[{text:"Kode Buku",align:"start",sortable:!0,value:"kode_buku_full"},{text:"Judul Buku",align:"start",sortable:!0,value:"judul_buku"},{text:"Jumlah Buku",align:"start",sortable:!0,value:"jumlah_buku"},{text:"Kode Peminjaman",align:"start",sortable:!0,value:"kode_peminjaman_full"},{text:"Tgl Kembali",align:"start",sortable:!0,value:"tanggal_pengembalian"},{text:"Kode Peminjam",align:"start",sortable:!0,value:"kode_user_full"},{text:"Nama Peminjam",align:"start",sortable:!0,value:"full_name"}]}},methods:{getData:function(){var e=this;e.overlay=!0,l.a.get("api/perpus/log-data/pengembalian").then((function(a){e.daftarPengembalian=a.data.data,e.overlay=!1})).catch((function(a){e.snack=!0,e.snackColor="error",e.snackText="Tidak Bisa Mendapatkan Data Peminjaman",e.overlay=!1}))},serachPengembalian:function(){var e=this;null!=e.search?e.daftarPengembalianFiltered=e.daftarPengembalian.filter((function(a){return a.kode_peminjaman_full.toLowerCase().includes(e.search.toLowerCase())||a.judul_buku.toLowerCase().includes(e.search.toLowerCase())||a.kode_user_full.toLowerCase().includes(e.search.toLowerCase())||a.full_name.toLowerCase().includes(e.search.toLowerCase())||a.tanggal_pengembalian.toLowerCase().includes(e.search.toLowerCase())})):e.daftarPengembalianFiltered=null},exportExcel:function(){var e=this;e.overlay=!0,l.a.get("api/perpus/log-data/pengembalian/export",{responseType:"blob"}).then((function(a){var t=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","LogPengembalian.xlsx"),document.body.appendChild(n),n.click(),e.snack=!0,e.snackColor="success",e.snackText="Berhasil Export Log Pengembalian",e.overlay=!1})).catch((function(a){e.snack=!0,e.snackColor="error",e.snackText="Tidak Bisa Export Log Pengembalian",e.overlay=!1}))}},mounted:function(){this.getData()}},s=t(2),o=Object(s.a)(r,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"ma-5"},[t("v-alert",{attrs:{border:"top",color:"red lighten-2",dark:"",dismissible:""},model:{value:e.errorAlert,callback:function(a){e.errorAlert=a},expression:"errorAlert"}},e._l(e.serverError,(function(a,n){return t("ul",{key:n},[t("li",[e._v("\n        "+e._s(a[0])+"\n      ")])])})),0),e._v(" "),t("v-card",[t("v-card-title",[e._v("\n    Log Data Pengembalian Buku\n      "),t("v-spacer"),e._v(" "),t("v-text-field",{staticClass:"mb-3",attrs:{"append-icon":"mdi-magnify",label:"Masukan Sesuatu...",hint:"Search","persistent-hint":"","single-line":"","append-outer-icon":"mdi-send"},on:{"click:append-outer":e.serachPengembalian},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),e._v(" "),t("v-btn",{staticClass:"ma-2 white--text",attrs:{disabled:null==e.daftarPengembalian,color:"blue-grey"},on:{click:function(a){return a.preventDefault(),e.exportExcel(a)}}},[e._v("\n      Export EXCEL\n      "),t("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-cloud-download")])],1),e._v(" "),e.daftarPengembalian&&null==e.daftarPengembalianFiltered?t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.daftarPengembalian,"items-per-page":5}}):e._e(),e._v(" "),e.daftarPengembalian&&null!=e.daftarPengembalianFiltered?t("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.daftarPengembalianFiltered,"items-per-page":5}}):e._e(),e._v(" "),t("v-overlay",{attrs:{absolute:!0,value:e.overlay}},[t("v-progress-circular",{attrs:{size:50,color:"white",indeterminate:""}})],1)],1),e._v(" "),t("v-snackbar",{attrs:{top:"",timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(a){var n=a.attrs;return[t("v-btn",e._b({attrs:{text:""},on:{click:function(a){e.snack=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snack,callback:function(a){e.snack=a},expression:"snack"}},[e._v("\n    "+e._s(e.snackText)+"\n\n    ")])],1)}),[],!1,null,null,null);a.default=o.exports}}]);